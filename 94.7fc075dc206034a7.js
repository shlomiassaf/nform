"use strict";(self.webpackChunknform_demo_app=self.webpackChunknform_demo_app||[]).push([[94],{94:(A,f,n)=>{n.r(f),n.d(f,{FieldSyncRedrawExampleModule:()=>d});var a=n(70655),m=n(36895),y=n(59549),v=n(84385),g=n(4859),x=n(51572),s=n(27527),T=n(9403),F=n(41913),R=n(82904);let p=class{};(0,a.gn)([(0,s.Od)({vType:"number",label:"Hero ID"}),(0,a.w6)("design:type",Number)],p.prototype,"id",void 0),(0,a.gn)([(0,s.Od)({required:!0,vType:"text",label:"Hero Name"}),(0,a.w6)("design:type",String)],p.prototype,"name",void 0),(0,a.gn)([(0,s.Od)({vType:"select",label:"Super Power",data:{multiple:!0,options:[{value:"selfHealing",label:"Self Healing"},{value:"flying",label:"Flying"}]}}),(0,a.w6)("design:type",String)],p.prototype,"superPower",void 0),p=(0,a.gn)([(0,s.au)()],p);var e=n(94650),S=n(94495),w=n(87565),h=n(3238);function b(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"div")(1,"mat-form-field")(2,"mat-select",5),e.NdJ("selectionChange",function(r){e.CHM(o);const u=e.oxw();return e.KtG(u.stateFieldType=r.value)}),e.TgZ(3,"mat-option",6),e._uU(4,"Select"),e.qZA(),e.TgZ(5,"mat-option",7),e._uU(6,"Radio Group"),e.qZA()()(),e.TgZ(7,"button",8),e.NdJ("click",function(){e.CHM(o),e.oxw();const r=e.MAs(4);return e.KtG(r.redraw())}),e._uU(8,"REDRAW"),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.fieldSync())}),e._uU(10,"FIELD SYNC"),e.qZA()()}if(2&i){const o=e.oxw();e.xp6(2),e.Q6J("value",o.stateFieldType)}}function E(i,t){1&i&&(e.TgZ(0,"div",9),e._UZ(1,"mat-spinner"),e.qZA())}let c=class{constructor(){this.model=new p,this.stateFieldType="select"}beforeRender(t){const o=t.records.superPower;if(o){const l=o.getData("options")||[],r=function Z(){return new Promise(i=>setTimeout(i,1e3)).then(()=>[{value:"atomicVision",label:"Atomic Vision"},{value:"teleportation",label:"Teleportation"},{value:"physicalRestoration",label:"Physical Restoration"},{value:"timeTravel",label:"Time Travel"},{value:"mindReading",label:"Mind Reading"}])}().then(u=>{10!==l.length&&l.push(...u),o.mergeData({options:l})});t.async(r),this.fieldSync()}}fieldSync(){const t=this.dynForm.records.superPower;t&&this.stateFieldType!==t.vType&&(t.vType=this.stateFieldType,"radio"===this.stateFieldType&&t.mergeData({vertical:!0}))}};c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["pbl-field-sync-redraw-example"]],viewQuery:function(t,o){if(1&t&&e.Gf(s.x,7),2&t){let l;e.iGM(l=e.CRH())&&(o.dynForm=l.first)}},decls:7,vars:7,consts:[[1,"render-state-form-container"],[4,"ngIf"],[2,"display","block",3,"model","beforeRender"],["nForm",""],["class","ui-block",4,"ngIf"],[3,"value","selectionChange"],["value","select"],["value","radio"],["mat-button","",3,"click"],[1,"ui-block"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,b,11,1,"div",1),e.ALo(2,"async"),e.TgZ(3,"pbl-nform",2,3),e.NdJ("beforeRender",function(r){return o.beforeRender(r)}),e.YNc(5,E,2,0,"div",4),e.ALo(6,"async"),e.qZA()()),2&t){const l=e.MAs(4);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,3,null==l?null:l.renderState)),e.xp6(2),e.Q6J("model",o.model),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,5,null==l?null:l.renderState))}},dependencies:[m.O5,S.x,w.G,y.KE,v.gD,h.ey,g.lW,x.Ou,m.Ov],styles:[".render-state-form-container{position:relative;min-height:300px}.ui-block{position:absolute;inset:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),c=(0,a.gn)([(0,F.en)("pbl-field-sync-redraw-example",{title:"Field Sync Redraw",additionalFiles:["./model.ts"]})],c);let d=class{};d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({providers:[{provide:s.U_,useValue:T.I7}],imports:[m.ez,R.a,s.$H,y.lN,v.LD,g.ot,x.Cq]}),d=(0,a.gn)([(0,F.qB)(c)],d)}}]);